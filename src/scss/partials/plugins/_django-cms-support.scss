html {
  @for $i from 0 through $footer-links-max {
    &.cms-ready {

      body.footer-links-#{$i} {
        main.site-main {
          min-height: calc(100vh - #{get-not-main-height($i) + $django-cms-toolbar});

          @media (min-width: map-get($grid-breakpoints, md)) {
            min-height: calc(100vh - #{get-not-main-height($i, md) + $django-cms-toolbar});
          }

          @media (min-width: map-get($grid-breakpoints, xl)) {
            min-height: calc(100vh - #{get-not-main-height($i, xl) + $django-cms-toolbar});
          }
        }

        &.contingency-active {
          &.status-navigate {
            main.site-main {
              min-height: calc(100vh - #{get-not-main-height($i) + $django-cms-toolbar + $contingency-actions-height});

              @media (min-width: map-get($grid-breakpoints, md)) {
                min-height: calc(100vh - #{get-not-main-height($i, md) + $django-cms-toolbar + $contingency-actions-height});
              }

              @media (min-width: map-get($grid-breakpoints, xl)) {
                min-height: calc(100vh - #{get-not-main-height($i, xl) + $django-cms-toolbar + $contingency-actions-height});
              }
            }
          }

          &.status-continue {
            section.contingency {
              min-height: calc(100vh - #{get-not-main-height($i) + $django-cms-toolbar});

              @media (min-width: map-get($grid-breakpoints, md)) {
                min-height: calc(100vh - #{get-not-main-height($i, md) + $django-cms-toolbar});
              }

              @media (min-width: map-get($grid-breakpoints, xl)) {
                min-height: calc(100vh - #{get-not-main-height($i, xl) + $django-cms-toolbar});
              }
            }
          }
        }
      }

      &.cms-toolbar-expanded {
        body.footer-links-#{$i} {
          main.site-main {
            min-height: calc(100vh - #{get-not-main-height($i) + $django-cms-toolbar-expanded});

            @media (min-width: map-get($grid-breakpoints, md)) {
              min-height: calc(100vh - #{get-not-main-height($i, md) + $django-cms-toolbar-expanded});
            }

            @media (min-width: map-get($grid-breakpoints, xl)) {
              min-height: calc(100vh - #{get-not-main-height($i, xl) + $django-cms-toolbar-expanded});
            }
          }

          &.contingency-active {
            &.status-navigate {
              main.site-main {
                min-height: calc(100vh - #{get-not-main-height($i) + $django-cms-toolbar-expanded + $contingency-actions-height});

                @media (min-width: map-get($grid-breakpoints, md)) {
                  min-height: calc(100vh - #{get-not-main-height($i, md) + $django-cms-toolbar-expanded + $contingency-actions-height});
                }

                @media (min-width: map-get($grid-breakpoints, xl)) {
                  min-height: calc(100vh - #{get-not-main-height($i, xl) + $django-cms-toolbar-expanded + $contingency-actions-height});
                }
              }
            }

            &.status-continue {
              section.contingency {
                min-height: calc(100vh - #{get-not-main-height($i) + $django-cms-toolbar-expanded});

                @media (min-width: map-get($grid-breakpoints, md)) {
                  min-height: calc(100vh - #{get-not-main-height($i, md) + $django-cms-toolbar-expanded});
                }

                @media (min-width: map-get($grid-breakpoints, xl)) {
                  min-height: calc(100vh - #{get-not-main-height($i, xl) + $django-cms-toolbar-expanded});
                }
              }
            }
          }
        }
      }
    }
  }
}

html {
  &.cms-ready {
    .navbar {
      top: $django-cms-toolbar;
    }
    &.cms-toolbar-expanded {
      .navbar {
        top: $django-cms-toolbar-expanded;
      }
    }
  }
}

.cms-ready {

  body {

    &.search-active {
      .site-main {
        top: $django-cms-toolbar;
      }
    }
  }

  &.cms-toolbar-expanded {

    body {

      &.search-active {
        .site-main {
          top: $django-cms-toolbar-expanded;
        }
      }
    }
  }
}